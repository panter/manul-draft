{"version":3,"sources":["../../src/components/dialog_entity.js"],"names":["DialogEntity","entityType","setEntity","cancelEntity","removeEntity","schema","props","dataMap","Map","padding","minWidth","backgroundColor","marginTop","toJS","event","target","focus","console","log","clean","data"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,eAAe,SAAfA,YAAe,OAOf;AAAA,MANJC,UAMI,QANJA,UAMI;AAAA,MALJC,SAKI,QALJA,SAKI;AAAA,MAJJC,YAII,QAJJA,YAII;AAAA,MAHJC,YAGI,QAHJA,YAGI;AAAA,MAFJC,MAEI,QAFJA,MAEI;AAAA,MADDC,KACC;;AACJ,MAAMC,UAAU,IAAI,oBAAUC,GAAd,CAAkBF,KAAlB,CAAhB;;AAEA,SACE;AAAA;AAAA;AACE,aAAO;AACLG,iBAAS,CADJ;AAELC,kBAAU;AAFL;AADT;AAME;AAAA;AAAA;AACE,eAAO;AACLC,2BAAiB,SADZ;AAELF,mBAAS;AAFJ;AADT;AAME;AAAA;AAAA,UAAS,OAAO,EAAEG,WAAW,CAAb,EAAhB,EAAkC,OAAO,CAAzC;AACE;AAAA;AAAA;AAAA,2BAAmBX,UAAnB;AAAA;AADF,OANF;AASE;AACE,wCAA8BA,UADhC;AAEE,2BACE;AAAA;AAAA;AACE,uBADF;AAEE,qBAAS,mBAAM;AACbG;AACD;AAJH;AAAA;AAAA,SAHJ;AAYE,eAAOG,QAAQM,IAAR,EAZT;AAaE,gBAAQR,MAbV;AAcE,kBAAU,KAdZ;AAeE,iBAAS,wBAAS;AAChB;AACAS,gBAAMC,MAAN,CAAaC,KAAb;AACD,SAlBH;AAmBE,kBAAU,wBAAQ;AAChBC,kBAAQC,GAAR,CAAY,WAAZ;AACAf;AACAD,oBAAUG,OAAOc,KAAP,CAAaC,IAAb,CAAV;AACD;AAvBH;AATF;AANF,GADF;AA4CD,CAtDD;;kBAwDepB,Y","file":"dialog_entity.js","sourcesContent":["import React from 'react';\nimport { T } from '@panter/manul-i18n';\n\nimport Immutable from 'immutable';\nimport FormEntity from './form_entity';\nimport Heading from './heading';\nimport Button from './button';\n\nconst DialogEntity = ({\n  entityType,\n  setEntity,\n  cancelEntity,\n  removeEntity,\n  schema,\n  ...props\n}) => {\n  const dataMap = new Immutable.Map(props);\n\n  return (\n    <div\n      style={{\n        padding: 5,\n        minWidth: 300\n      }}\n    >\n      <div\n        style={{\n          backgroundColor: '#ffffff',\n          padding: 15\n        }}\n      >\n        <Heading style={{ marginTop: 0 }} level={3}>\n          <T>{`cm.entities.${entityType}.label`}</T>\n        </Heading>\n        <FormEntity\n          i18nNamespace={`cm.entities.${entityType}`}\n          additionalActions={\n            <Button\n              small\n              onClick={() => {\n                removeEntity();\n              }}\n            >\n              Remove\n            </Button>\n          }\n          model={dataMap.toJS()}\n          schema={schema}\n          autosave={false}\n          onClick={event => {\n            // dirty workaround for https://github.com/globocom/megadraft/issues/188\n            event.target.focus();\n          }}\n          onSubmit={data => {\n            console.log('on submit');\n            cancelEntity();\n            setEntity(schema.clean(data));\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DialogEntity;\n"]}