{"version":3,"sources":["../../src/components/dialog_plugin.jsx"],"names":["DialogPlugin","props","nextProps","dataMap","i18nNamespace","schema","cancel","remove","updateData","toJS"],"mappings":";;;;;;;;;;AAAA;;AAEA;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,eAAe;AACnB;AACA;AACA,UAACC,KAAD,EAAQC,SAAR;AAAA,SAAsB,CAAC,uBAAQD,MAAME,OAAd,EAAuBD,UAAUC,OAAjC,CAAvB;AAAA,CAHmB,EAKnB,yCACE,cADF,EAEE;AAAA,MAAGC,aAAH,QAAGA,aAAH;AAAA,MAAkBD,OAAlB,QAAkBA,OAAlB;AAAA,MAA2BE,MAA3B,QAA2BA,MAA3B;AAAA,MAAmCC,MAAnC,QAAmCA,MAAnC;AAAA,MAA2CC,MAA3C,QAA2CA,MAA3C;AAAA,MAAmDC,UAAnD,QAAmDA,UAAnD;AAAA,SACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAOJ,qBAAP;AAAA;AADF,KADF;AAIE;AAAA;AAAA;AACE;AAAA;AAAA,UAAQ,SAASG,MAAjB;AAAA;AAAA,OADF;AAEE;AAAA;AAAA,UAAQ,SAASD,MAAjB;AAAA;AAAA;AAFF,KAJF;AAQGD,cACC;AACE,qBAAeD,aADjB;AAEE,oBAFF;AAGE,aAAOD,QAAQM,IAAR,EAHT;AAIE,cAAQJ,MAJV;AAKE,gBAAUG;AALZ;AATJ,GADF;AAAA,CAFF,CALmB,CAArB;;kBA8BeR,Y","file":"dialog_plugin.js","sourcesContent":["import { T } from '@panter/manul-i18n';\nimport { isEqual } from 'lodash/fp';\nimport { shouldUpdate } from 'recompose';\nimport React from 'react';\n\nimport Button from './button';\nimport ButtonGroup from './button_group';\nimport FormPlugin from './form_plugin';\nimport HeadingDialog from './heading_dialog';\nimport fromContextOr from '../component_from_context_or';\n\nconst DialogPlugin = shouldUpdate(\n  // we need that because draftjs/megadraft update quite often\n  // which messes with things like the file-picker-dialog from the browser\n  (props, nextProps) => !isEqual(props.dataMap, nextProps.dataMap),\n)(\n  fromContextOr(\n    'DialogPlugin',\n    ({ i18nNamespace, dataMap, schema, cancel, remove, updateData }) => (\n      <div>\n        <HeadingDialog>\n          <T>{`${i18nNamespace}.label`}</T>\n        </HeadingDialog>\n        <ButtonGroup>\n          <Button onClick={remove}>Delete</Button>\n          <Button onClick={cancel}>Close</Button>\n        </ButtonGroup>\n        {schema && (\n          <FormPlugin\n            i18nNamespace={i18nNamespace}\n            autosave\n            model={dataMap.toJS()}\n            schema={schema}\n            onSubmit={updateData}\n          />\n        )}\n      </div>\n    ),\n  ),\n);\n\nexport default DialogPlugin;\n"]}