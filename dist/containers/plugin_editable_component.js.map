{"version":3,"sources":["../../src/containers/plugin_editable_component.js"],"names":["depsMapper","context","manulDraft","take","windowWidth","window","innerWidth","debounce","remove","setShowDialog","container","cancel","updateData","newData","dataMap","showDialog","get","set","show"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AAEA;;;;AAEA;;;;;;AAEO,IAAMA,kCAAa,SAAbA,UAAa;AAAA;AACxBC,aAAS;AAAA,aAAMA,QAAN;AAAA;AADe,KAErBA,SAAQC,UAFa;AAAA,CAAnB;;kBAKQ,4BACb,yBAAU,YAAV,EAAwB,eAAxB,EAAyC,YAAM,CAAE,CAAjD,CADa,EAEb,qCAAiB;AACf;AACAC,QAAM;AAAA,WAAO,EAAEC,aAAaC,OAAOC,UAAtB,EAAP;AAAA,GAFS;AAGfC,YAAU,wBAAS,GAAT;AAHK,CAAjB,CAFa,EAOb,4BAAa;AACXC,UAAQ;AAAA,QAAGC,aAAH,QAAGA,aAAH;AAAA,QAAkBC,SAAlB,QAAkBA,SAAlB;AAAA,WAAkC,YAAM;AAC9CD,oBAAc,KAAd;AACA;AACA;AACA,2BAAM,GAAN,EAAW;AAAA,eAAMC,UAAUF,MAAV,EAAN;AAAA,OAAX;AACD,KALO;AAAA,GADG;AAOXG,UAAQ;AAAA,QAAGF,aAAH,SAAGA,aAAH;AAAA,WAAuB,YAAM;AACnCA,oBAAc,KAAd;AACA;AACD,KAHO;AAAA,GAPG;AAWXG,cAAY;AAAA,QAAGF,SAAH,SAAGA,SAAH;AAAA,WAAmB,mBAAW;AACxCA,gBAAUE,UAAV,CAAqBC,OAArB;AACD,KAFW;AAAA;AAXD,CAAb,CAPa,EAsBb,yBAAU;AAAA,MAAGC,OAAH,SAAGA,OAAH;AAAA,SAAkB,EAAEC,YAAYD,QAAQE,GAAR,CAAY,YAAZ,CAAd,EAAlB;AAAA,CAAV,CAtBa,EAuBb,4BAAa;AACXP,iBAAe;AAAA,QAAGC,SAAH,SAAGA,SAAH;AAAA,QAAcI,OAAd,SAAcA,OAAd;AAAA,WAA4B;AAAA,aACzCJ,UAAUE,UAAV,CAAqBE,QAAQG,GAAR,CAAY,YAAZ,EAA0BC,IAA1B,CAArB,CADyC;AAAA,KAA5B;AAAA;AADJ,CAAb,CAvBa;AA2Bb;AACA,yBAAQlB,UAAR,CA5Ba,sC","file":"plugin_editable_component.js","sourcesContent":["import { delay, debounce } from 'lodash/fp';\nimport { useDeps, composeAll } from '@storybook/mantra-core';\nimport { withState, withHandlers, withProps } from 'recompose';\nimport windowDimensions from 'react-window-dimensions';\n\nimport PluginEditableComponent from '../components/plugin_editable_component';\n\nexport const depsMapper = context => ({\n  context: () => context,\n  ...context.manulDraft\n});\n\nexport default composeAll(\n  withState('dimensions', 'setDimensions', () => {}),\n  windowDimensions({\n    /* global window */\n    take: () => ({ windowWidth: window.innerWidth }),\n    debounce: debounce(300)\n  }),\n  withHandlers({\n    remove: ({ setShowDialog, container }) => () => {\n      setShowDialog(false);\n      // small delay, otherwise megadraft has a focus problem\n      /* eslint lodash-fp/no-unused-result: 0*/\n      delay(100, () => container.remove());\n    },\n    cancel: ({ setShowDialog }) => () => {\n      setShowDialog(false);\n      // container.updateData(dataMap.set('forceDialog', false));\n    },\n    updateData: ({ container }) => newData => {\n      container.updateData(newData);\n    }\n  }),\n  withProps(({ dataMap }) => ({ showDialog: dataMap.get('showDialog') })),\n  withHandlers({\n    setShowDialog: ({ container, dataMap }) => show =>\n      container.updateData(dataMap.set('showDialog', show))\n  }),\n  // withState('showDialog', 'setShowDialog', ({ dataMap }) => dataMap.get('forceDialog')),\n  useDeps(depsMapper)\n)(PluginEditableComponent);\n"]}